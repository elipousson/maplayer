<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Label markers, streets, areas, or other simple feature objects using any of
the following geoms: "text", "sf_text", "label", "sf_label", "textsf",
"labelsf", "text_repel", or "label_repel".'><title>Label simple feature objects in a location — layer_labelled • maplayer</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Label simple feature objects in a location — layer_labelled"><meta property="og:description" content='Label markers, streets, areas, or other simple feature objects using any of
the following geoms: "text", "sf_text", "label", "sf_label", "textsf",
"labelsf", "text_repel", or "label_repel".'><meta property="og:image" content="https://elipousson.github.io/maplayer/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">maplayer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/elipousson/maplayer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Label simple feature objects in a location</h1>
      <small class="dont-index">Source: <a href="https://github.com/elipousson/maplayer/blob/HEAD/R/layer_labelled.R" class="external-link"><code>R/layer_labelled.R</code></a></small>
      <div class="d-none name"><code>layer_labelled.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Label markers, streets, areas, or other simple feature objects using any of
the following geoms: "text", "sf_text", "label", "sf_label", "textsf",
"labelsf", "text_repel", or "label_repel".</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">layer_labelled</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  location <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geom <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>  fn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  union <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  clip <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  diag_ratio <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_shadow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  x_offset <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  y_offset <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  sigma <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Data to use for labels (must be an sf object or a data frame that
can be converted to an sf object using <a href="https://elipousson.github.io/sfext/reference/as_sf.html" class="external-link">sfext::as_sf</a>)</p></dd>


<dt>location</dt>
<dd><p>Location to label (if not specified the data is assumed to
conver the whole location);</p></dd>


<dt>geom</dt>
<dd><p>A geom to use "text", "label", "textsf", "labelsf", "text_repel",
or "label_repel"</p></dd>


<dt>fn</dt>
<dd><p>Function to apply to data before creating labels; can be used in
the creation of the label_col</p></dd>


<dt>label_col</dt>
<dd><p>Label column name</p></dd>


<dt>mapping</dt>
<dd><p>Aesthetic mapping, Default: NULL</p></dd>


<dt>union</dt>
<dd><p>If TRUE, group by label_col and union geometry, Default: <code>FALSE</code></p></dd>


<dt>clip</dt>
<dd><p>Character string describing the part of the area to clip or
remove. Options include c("top", "right", "bottom", "left", "topright",
"bottomright", "bottomleft", "topleft"). If NULL, the area is not clipped
and a full edge can be returned.</p></dd>


<dt>dist</dt>
<dd><p>Numeric. Distance to use for the edge. Default NULL
meters. Use negative values for an inside edge or positive numbers for an
outside edge.</p></dd>


<dt>diag_ratio</dt>
<dd><p>Alternate way to define edge distance.</p></dd>


<dt>unit</dt>
<dd><p>Units for buffer. Supported options include "meter", "foot",
"kilometer", and "mile", "nautical mile" Common abbreviations (e.g. "km"
instead of "kilometer") are also supported. Distance in units is converted
to units matching GDAL units for x; defaults to "meter"</p></dd>


<dt>drop_shadow</dt>
<dd><p>If <code>TRUE</code>, use <a href="https://ggfx.data-imaginist.com/reference/with_shadow.html" class="external-link">ggfx::with_shadow</a> to add a drop shadow to
the label layer. Defaults to <code>FALSE</code>.</p></dd>


<dt>x_offset, y_offset, sigma</dt>
<dd><p>Parameters passed to <a href="https://ggfx.data-imaginist.com/reference/with_shadow.html" class="external-link">ggfx::with_shadow</a> if
<code>drop_shadow = TRUE</code>.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="layer_location_data.html">layer_location_data</a></code></p><dl><dt><code>smooth_params</code></dt>
<dd><p>Optional. Logical or a list of parameters passed to
<a href="https://strimas.com/smoothr/reference/smooth.html" class="external-link">smoothr::smooth</a>. If <code>TRUE</code>, apply <a href="https://strimas.com/smoothr/reference/smooth.html" class="external-link">smoothr::smooth</a> to location data
using default parameters. smooth_params is ignored if data is <code>NULL</code>
(inheriting data from <a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a>).</p></dd>

    <dt><code>shadow_params</code></dt>
<dd><p>Optional. Logical or a list of parameters passed to
<a href="https://ggfx.data-imaginist.com/reference/with_shadow.html" class="external-link">ggfx::with_shadow</a>. If <code>TRUE</code>, apply <a href="https://ggfx.data-imaginist.com/reference/with_shadow.html" class="external-link">ggfx::with_shadow</a> to the layer
using default parameters. shadow_params is ignored if layer_fn is provided.</p></dd>

    <dt><code>asp</code></dt>
<dd><p>Aspect ratio of width to height as a numeric value (e.g. 0.33) or
character (e.g. "1:3"). If numeric, <code><a href="https://elipousson.github.io/sfext/reference/get_asp.html" class="external-link">get_asp()</a></code> returns the same value
without modification.</p></dd>

    <dt><code>package</code></dt>
<dd><p>Name of the package to search for data.</p></dd>

    <dt><code>filetype</code></dt>
<dd><p>File type to use if passing parameters to <a href="https://elipousson.github.io/sfext/reference/read_sf_ext.html" class="external-link">sfext::read_sf_download</a>
or <a href="https://elipousson.github.io/sfext/reference/read_sf_ext.html" class="external-link">sfext::read_sf_pkg</a> (required for extdata and cached data).</p></dd>

    <dt><code>crop</code></dt>
<dd><p>If <code>TRUE</code>, x is cropped to y using <code><a href="https://r-spatial.github.io/sf/reference/st_crop.html" class="external-link">sf::st_crop()</a></code>.</p></dd>

    <dt><code>trim</code></dt>
<dd><p>If <code>TRUE</code>, x is trimmed to y with <code><a href="https://elipousson.github.io/sfext/reference/st_erase.html" class="external-link">st_trim()</a></code>.</p></dd>

    <dt><code>crs</code></dt>
<dd><p>Coordinate reference system to return.</p></dd>

  
</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note: Unlike in some getdata package functions, fn is applied to all of the
data; not a subset of the data based on location. For this function, dist and
unit are both used by <code><a href="https://elipousson.github.io/sfext/reference/st_clip.html" class="external-link">sfext::st_clip()</a></code> (not by <a href="layer_location_data.html">layer_location_data</a>)</p>
<p>The function also overrides the label aesthetics to hide the colored letters
that would otherwise appear when using a theme legend.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://elipousson.github.io/sfext/reference/st_clip.html" class="external-link">sfext::st_clip()</a></code>,<code><a href="layer_location_data.html">layer_location_data()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

