[{"path":"https://elipousson.github.io/maplayer/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Eli Pousson Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://elipousson.github.io/maplayer/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Eli Pousson. Author, maintainer, copyright holder.","code":""},{"path":"https://elipousson.github.io/maplayer/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pousson E (2022). maplayer: Make Map Layers ggplot2. https://github.com/elipousson/maplayer, https://elipousson.github.io/maplayer/.","code":"@Manual{,   title = {maplayer: Make Map Layers With ggplot2},   author = {Eli Pousson},   year = {2022},   note = {https://github.com/elipousson/maplayer, https://elipousson.github.io/maplayer/}, }"},{"path":"https://elipousson.github.io/maplayer/index.html","id":"maplayer","dir":"","previous_headings":"","what":"Make Map Layers With ggplot2","title":"Make Map Layers With ggplot2","text":"goal maplayer provide consistent set functions creating map layers using simple feature ({sf}) data, {ggplot2} package, variety ggplot2 extension packages. functions maplayer started part {overedge} package re-exports several key functions package. also includes layer functions part birdseyeview package. intention consoldiate map layer functions single package first step process splitting overedge multiple packages.","code":""},{"path":"https://elipousson.github.io/maplayer/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Make Map Layers With ggplot2","text":"can install development version maplayer like :","code":"remotes::install_github(\"elipousson/maplayer\")"},{"path":"https://elipousson.github.io/maplayer/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Make Map Layers With ggplot2","text":"basic example shows solve common problem:","code":"library(maplayer) library(ggplot2) library(sf) #> Linking to GEOS 3.9.1, GDAL 3.4.2, PROJ 8.2.1; sf_use_s2() is TRUE"},{"path":"https://elipousson.github.io/maplayer/index.html","id":"make-icon-maps-with-sf-objects-and-ggplot2","dir":"","previous_headings":"Example","what":"Make icon maps with sf objects and ggplot2","title":"Make Map Layers With ggplot2","text":"layer_icon wraps [ggsvg::geom_point_svg()] provide convenient way make icon maps. can create maps using single named icon matches one icons [overedge::map_icons].","code":"nc <- st_read(system.file(\"shape/nc.shp\", package = \"sf\")) #> Reading layer `nc' from data source  #>   `/Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/sf/shape/nc.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 100 features and 14 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965 #> Geodetic CRS:  NAD27 nc <- st_transform(nc, 3857) theme_set(theme_void())  nc_map <-   ggplot() +   geom_sf(data = nc)  nc_map +   layer_icon(data = nc, icon = \"point-start\", size = 8)"},{"path":"https://elipousson.github.io/maplayer/reference/layer_frame.html","id":null,"dir":"Reference","previous_headings":"","what":"Create map layer with shape framing a simple feature object — layer_frame","title":"Create map layer with shape framing a simple feature object — layer_frame","text":"Wraps sfext::st_circle, sfext::st_square, layer_neatline.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_frame.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create map layer with shape framing a simple feature object — layer_frame","text":"","code":"layer_frame(   data,   dist = NULL,   diag_ratio = NULL,   unit = \"meter\",   frame = \"circle\",   scale = 1,   rotate = 0,   inscribed = FALSE,   color = \"black\",   size = 1,   linetype = \"solid\",   fill = \"white\",   neatline = TRUE,   expand = FALSE,   union = TRUE,   ... )  make_frame(   x,   frame = \"circle\",   scale = 1,   rotate = 0,   inscribed = FALSE,   dTolerance = 0 )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_frame.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create map layer with shape framing a simple feature object — layer_frame","text":"data sf bbox class object dist buffer distance units. Optional. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit Buffer units; defaults meter. frame Type framing shape add, \"circle\" \"square\" around data. scale numeric; scale factor, Default: 1 rotate numeric; degrees rotate (-360 360), Default: 0 inscribed TRUE, make circle square inscribed within x, FALSE, make circumscribed. color Color panel border, Default: 'black' size Size panel border, Default: 1 linetype Line type panel border, Default: 'solid' fill Fill color frame. neatline TRUE, add neatline returned layer. expand Default FALSE. TRUE, function adds ggplot2::scale_y_continuous() ggplot2::scale_x_continuous() expand map extent provided parameters. union TRUE, union data buffering creating frame; defaults TRUE. ... Additional parameters passed layer_location_data. May include additional fixed aesthetics (e.g. alpha) \"fn\" apply frame object. x sf, sfc, bbox object dTolerance numeric; tolerance parameter, specified feature geometry. run st_simplify, input data specified long-lat coordinates sf_use_s2() returns TRUE, value dTolerance must specified meters.","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_frame.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create map layer with shape framing a simple feature object — layer_frame","text":"","code":"nc <- sfext::read_sf_path(system.file(\"shape/nc.shp\", package = \"sf\"))  raleigh_msa <-   getdata::get_location(     type = nc,     name_col = \"NAME\",     name =  c(\"Franklin\", \"Johnston\", \"Wake\"),     crs = 3857     )  ggplot2::ggplot() +   layer_frame(     data = raleigh_msa,     frame = \"circle\",     fill = \"lightyellow\",     inscribed = FALSE   ) +   layer_location_data(     data = raleigh_msa,     mapping = ggplot2::aes(fill = NAME),     alpha = 0.5   ) +   ggplot2::guides(     fill = \"none\"   ) #> Error in is_pkg_installed(\"naniar\"): The package `naniar` is required."},{"path":"https://elipousson.github.io/maplayer/reference/layer_grouped.html","id":null,"dir":"Reference","previous_headings":"","what":"Make group layers — layer_grouped","title":"Make group layers — layer_grouped","text":"Can used make multiple layers multiple maps based grouping variable.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_grouped.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make group layers — layer_grouped","text":"","code":"layer_grouped(   data,   mapping = NULL,   groupname_col = \"group\",   label_col = \"name\",   geom = \"sf\",   basemap = FALSE,   palette = NULL,   aesthetics = \"fill\",   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_grouped.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make group layers — layer_grouped","text":"data Character string (e.g. url, file path, name data package), sf, sfc, bbox  object including data area. mapping Set aesthetic mappings created aes() aes_(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. groupname_col Group column name label_col Column name id column text labels pass text geom. geom character string indicating ggplot2 geom use, Default: 'sf'. Options include \"sf\" (ggplot2::geom_sf), \"icon\" (layer_icon), \"markers\" (layer_markers), \"text\" (ggplot2::geom_sf_text), \"label\" (ggplot2::geom_sf_label). See details full list. ... Additional parameters passed layer_location_data layers TRUE; return list layers; FALSE; return list ggplot2 maps; defaults TRUE","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_grouped.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make group layers — layer_grouped","text":"Scales applied palette aesthetic provided basemap set TRUE.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_icon.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a SVG icons to a ggplot2 plot based on a simple feature object — layer_icon","title":"Add a SVG icons to a ggplot2 plot based on a simple feature object — layer_icon","text":"Use  ggsvg::geom_point_svg() function plot icons using centroids input simple feature object set icon location.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_icon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a SVG icons to a ggplot2 plot based on a simple feature object — layer_icon","text":"","code":"layer_icon(   data = NULL,   iconname_col = \"icon\",   icon = NULL,   px = NULL,   source = NULL,   svg = NULL,   color = \"black\",   crs = NULL,   ... )  geom_sf_icon(   data = NULL,   iconname_col = \"icon\",   icon = NULL,   px = NULL,   source = NULL,   svg = NULL,   color = \"black\",   crs = NULL,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_icon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a SVG icons to a ggplot2 plot based on a simple feature object — layer_icon","text":"data sf object. objects polygon geometry converted points using sf::st_centroid(). iconname_col column name input data use icon name. name matches multiple icons, first match map_icons used. may provide px source value select different match needed , case, icons must use px source value. Note icon column mapped ggplot2::aes(). icon Icon name. Default NULL. icon provided, iconname_col used. px Icon size pixels. See map_icons$px supported options. Optional may necessary differentiate icons duplicate names. source Icon source. See map_icons$repo supported options. Optional may required differentiate icons duplicate names. svg Optional. Custom file path URL SVG pass svg parameter  ggsvg::geom_point_svg().  icon provided, svg used. color SVG color passed  ggsvg::geom_point_svg(). default color set \"black\". crs Coordinate reference system; defaults NULL. ... Additional parameters  ggsvg::geom_point_svg().","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_icon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a SVG icons to a ggplot2 plot based on a simple feature object — layer_icon","text":"","code":"nc <- sfext::read_sf_path(system.file(\"shape/nc.shp\", package = \"sf\"))  basemap <-   ggplot2::ggplot() +   ggplot2::theme_void() +   layer_location_data(data = nc) #> Error in is_pkg_installed(\"naniar\"): The package `naniar` is required.  basemap +   geom_sf_icon(data = nc, icon = \"point-start\", size = 10) #> Error in eval(expr, envir, enclos): object 'basemap' not found  nc$icon <- rep(c(\"1\", \"2\", \"3\", \"4\"), nrow(nc) / 4)  # FIXME: Not working - possibly some change in geom_point_svg? # basemap + #  layer_icon(data = nc, size = 5)"},{"path":"https://elipousson.github.io/maplayer/reference/layer_labelled.html","id":null,"dir":"Reference","previous_headings":"","what":"Label simple feature objects in a location — layer_labelled","title":"Label simple feature objects in a location — layer_labelled","text":"Label markers, streets, areas, simple feature objects using following geoms: \"text\", \"label\", \"textsf\", \"labelsf\", \"text_repel\", \"label_repel\".","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_labelled.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label simple feature objects in a location — layer_labelled","text":"","code":"layer_labelled(   data,   location = NULL,   geom = \"text\",   fn = NULL,   label_col = NULL,   mapping = NULL,   union = FALSE,   clip = NULL,   dist = NULL,   unit = NULL,   drop_shadow = FALSE,   x_offset = 5,   y_offset = 5,   sigma = 0.5,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_labelled.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label simple feature objects in a location — layer_labelled","text":"data Data use label creation location Location label (specified data assumed conver whole location); geom geom use \"text\", \"label\", \"textsf\", \"labelsf\", \"text_repel\", \"label_repel\" fn Function apply data creating labels; can used creation label_col label_col Label column name mapping Aesthetic mapping, Default: NULL union TRUE, group label_col union geometry, Default: FALSE clip Character string describing part area clip remove. Options include c(\"top\", \"right\", \"bottom\", \"left\", \"topright\", \"bottomright\", \"bottomleft\", \"topleft\"). NULL, area clipped full edge can returned. dist Numeric. Distance use edge. Default NULL meters. Use negative values inside edge positive numbers outside edge. unit Units buffer. Supported options include \"meter\", \"foot\", \"kilometer\", \"mile\", \"nautical mile\" Common abbreviations (e.g. \"km\" instead \"kilometer\") also supported. Distance units converted units matching GDAL units x; defaults \"meter\" drop_shadow TRUE, use ggfx::with_shadow add drop shadow label layer. Defaults FALSE. x_offset, y_offset, sigma Parameters passed ggfx::with_shadow drop_shadow = TRUE. ... Additional parameters passed layer_location_data","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_labelled.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Label simple feature objects in a location — layer_labelled","text":"Note: Unlike overedge package functions, fn applied whole data; subset data based location. function, dist unit used sfext::st_clip() (layer_location_data) function also overrides label aesthetics hide colored letters otherwise appear using theme legend.","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_context.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a map layer showing a location in context of another area or location — layer_location_context","title":"Create a map layer showing a location in context of another area or location — layer_location_context","text":"Intended use inset_map function.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_context.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a map layer showing a location in context of another area or location — layer_location_context","text":"","code":"layer_location_context(   data = NULL,   fill = \"gray70\",   color = \"black\",   context = NULL,   context_aes = list(fill = \"white\", color = \"black\", alpha = 1, ...),   layer_between = NULL,   crs = NULL,   neatline = TRUE,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_context.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a map layer showing a location in context of another area or location — layer_location_context","text":"data sf object location data fill Fill color location data color Edge color location data context sf bbox object context area geom layer context_aes list aesthetic attributes context area; must include fill color; defaults list(fill = \"white\", color = \"black\", ...) layer_between optional ggplot2 layer insert context layer location layer. crs Coordinate reference system return. neatline TRUE, add neatline layer returned layer ... Additional parameters passed layer_location_data location","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Layer location data into a ggplot2 map — layer_location_data","title":"Layer location data into a ggplot2 map — layer_location_data","text":"Helper function make ggplot2 layer data returned get_location_data(). text geoms, required aesthetic mapping set based name_col values passed mapping take precedence.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Layer location data into a ggplot2 map — layer_location_data","text":"","code":"layer_location_data(   mapping = NULL,   data = NULL,   geom = \"sf\",   location = NULL,   dist = getOption(\"maplayer.dist\"),   diag_ratio = getOption(\"maplayer.diag_ratio\"),   unit = getOption(\"maplayer.unit\", default = \"meter\"),   asp = getOption(\"maplayer.asp\"),   package = getOption(\"maplayer.data_package\"),   filetype = getOption(\"maplayer.data_filetype\"),   fn = NULL,   geom_fn = NULL,   crop = TRUE,   trim = FALSE,   from_crs = getOption(\"maplayer.from_crs\"),   crs = getOption(\"maplayer.crs\"),   label_col = \"name\",   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Layer location data into a ggplot2 map — layer_location_data","text":"mapping Set aesthetic mappings created aes() aes_(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data Character string (e.g. url, file path, name data package), sf, sfc, bbox  object including data area. geom character string indicating ggplot2 geom use, Default: 'sf'. Options include \"sf\" (ggplot2::geom_sf), \"icon\" (layer_icon), \"markers\" (layer_markers), \"text\" (ggplot2::geom_sf_text), \"label\" (ggplot2::geom_sf_label). See details full list. location sf object. multiple areas provided, unioned single sf object using sf::st_union dist buffer distance units. Optional. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit unit adjust location dist diag_ratio; defaults \"meter\" asp Aspect ratio width height numeric value (e.g. 0.33) character (e.g. \"1:3\"). numeric, get_asp() returns value without modification. package Name package search data. filetype File type use passing parameters sfext::read_sf_download sfext::read_sf_pkg (required extdata cached data). fn Function apply data filtering location returning function. geom_fn ggplot2 geom custom function using lambda syntax. Use passing custom mapping functions layer_location_data beyond supported geom options. crop TRUE, x cropped y using sf::st_crop(). trim TRUE, x trimmed y st_trim(). from_crs Coordinate reference system used match location CRS source data. crs Coordinate reference system return. label_col Column name id column text labels pass text geom. ... Parameters passed selected geom","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Layer location data into a ggplot2 map — layer_location_data","text":"ggplot2 geom","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_location_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Layer location data into a ggplot2 map — layer_location_data","text":"Supported geom function options: Options geom parameter overedge package include: \"icon\" (layer_icon), \"mapbox\" (layer_mapbox), \"markers\" (layer_markers), \"numbers\" (layer_numbers) Options geom parameter packages include: \"textsf\" (geomtextpath::geom_textsf) \"labelsf\" (geomtextpath::geom_labelsf) \"text_repel\" (ggrepel::geom_text_repel) \"label_repel\" (ggrepel::geom_label_repel) \"mark\" (birdseyeview::layer_show_mark) \"location\" (birdseyeview::layer_show_location) \"context\" (birdseyeview::layer_show_context) \"pattern\" (ggpattern::geom_sf_pattern) Alternatively, use \"geom_fn\" parameter pass function returns ggplot2 layer use instead one preset geom functions.","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_mapbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Use mapboxapi to make a Mapbox static map layer — layer_mapbox","title":"Use mapboxapi to make a Mapbox static map layer — layer_mapbox","text":"Use mapboxapi make Mapbox static map layer","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_mapbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use mapboxapi to make a Mapbox static map layer — layer_mapbox","text":"","code":"layer_mapbox(   data = NULL,   dist = NULL,   diag_ratio = NULL,   unit = \"meter\",   asp = NULL,   style_url = \"mapbox://styles/mapbox/satellite-streets-v11\",   style_id = NULL,   username = NULL,   basemap = FALSE,   scale = 0.75,   scaling_factor = \"1x\",   attribution = TRUE,   logo = TRUE,   access_token = NULL,   neatline = TRUE,   color = \"black\",   bgcolor = \"white\",   size = 1,   linetype = \"solid\",   expand = FALSE,   hide_grid = TRUE,   label_axes = \"----\",   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_mapbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use mapboxapi to make a Mapbox static map layer — layer_mapbox","text":"data sf, sfc, bbox object; objects convertible as_bbox dist buffer distance units. Optional. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit Buffer units; defaults meter. asp Aspect ratio width height numeric value (e.g. 0.33) character (e.g. \"1:3\"). numeric, get_asp() returns value without modification. style_url Map style url used fill style_id username parameters, Default: \"mapbox://styles/mapbox/satellite-streets-v11\" style_id style ID (required style_url NULL). username Mapbox username (required style_url = NULL). basemap FALSE, create standalone layer; TRUE, layer precededed ggplot2::ggplot() allow use basemap, Default: TRUE scale ratio scale output image; scale = 1 return largest possible image. defaults 0.5 scaling_factor scaling factor tiles; either \"1x\" (default) \"2x\" attribution Controls whether attribution image. Defaults TRUE. FALSE, watermarked attribution removed image. still legal responsibility attribute maps use OpenStreetMap data, includes maps Mapbox. specify attribution = FALSE, legally required include proper attribution elsewhere webpage document. logo Controls whether Mapbox logo image. Defaults TRUE. access_token Mapbox access token; can set mb_access_token. neatline TRUE, add neatline matching provided data, Default: TRUE color Color panel border, Default: 'black' bgcolor Fill color panel background; defaults \"white\". \"none\", panel background set ggplot2::element_blank() size Size panel border, Default: 1 linetype Line type panel border, Default: 'solid' expand Default FALSE. TRUE, function adds ggplot2::scale_y_continuous() ggplot2::scale_x_continuous() expand map extent provided parameters. hide_grid TRUE, hide major grid lines. Default: TRUE label_axes description axes label passed ggplot2::coord_sf(); defaults '----' hides axes labels. ... Additional parameter passed mapboxapi::layer_static_mapbox","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_marked.html","id":null,"dir":"Reference","previous_headings":"","what":"Use ggforce to create an annotation layer using simple feature data — layer_marked","title":"Use ggforce to create an annotation layer using simple feature data — layer_marked","text":"Use ggforce::geom_mark_rect(), ggforce::geom_mark_circle(), ggforce::geom_mark_ellipse(), ggforce::geom_mark_hull() annotate simple feature objects. function modifies geometry sets stat \"st_coordinates\" make easy use annotation geoms simple feature objects.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_marked.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use ggforce to create an annotation layer using simple feature data — layer_marked","text":"","code":"layer_marked(   data,   fn = NULL,   mapping = NULL,   label_col = NULL,   desc_col = NULL,   geom = NULL,   center = FALSE,   font_family = NULL,   font_face = c(\"bold\", \"plain\"),   font_color = NULL,   expand = ggplot2::unit(5, \"mm\"),   radius = expand,   drop_shadow = FALSE,   x_offset = 5,   y_offset = 5,   sigma = 0.5,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_marked.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use ggforce to create an annotation layer using simple feature data — layer_marked","text":"data sf, sfc, bbox object can converted sfext::as_sf fn Function apply data passing geom, typically predicate filter define area annotation. filter can also passed ggforce functions using filter aesthetic. Default: NULL mapping Aesthetic mapping pass geom, Default: NULL label_col Label column name geom geom use layer (\"rect\", \"circle\", \"ellipse\", \"hull\"), Default: NULL center FALSE, use sfext::st_cast_ext MULTIPOLYGON POLYGON data POINT; TRUE, use sfext::st_center use centroid feature geometry. Defaults FALSE. font_family, font_face, font_color Parameters passed label.family, label.fontface, label.colour. NULL, values set match ggplot2::geom_label defaults. Defaults NULL. expand numeric unit vector length one, specifying expansion amount. Negative values result contraction instead. value given numeric understood proportion plot area width. radius expand specifying corner radius. drop_shadow TRUE, use ggfx::with_shadow add drop shadow label layer. Defaults FALSE. x_offset, y_offset, sigma Parameters passed ggfx::with_shadow drop_shadow = TRUE. ... Additional parameters passed ggforce::geom_mark_rect(), ggforce::geom_mark_circle(), ggforce::geom_mark_ellipse(), ggforce::geom_mark_hull() ggplot2::layer()","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_marked.html","id":"geometry-conversion-for-multipolygon-or-polygon-data","dir":"Reference","previous_headings":"","what":"Geometry conversion for MULTIPOLYGON or POLYGON data","title":"Use ggforce to create an annotation layer using simple feature data — layer_marked","text":"cast FALSE data geometry type MULTIPOLYGON POLYGON, annotation uses centroid annotation geometry. cast TRUE, data converted POINT geometry using sf::st_cast() modified geometry passed selected geom.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_marked.html","id":"setting-label-and-description","dir":"Reference","previous_headings":"","what":"Setting label and description","title":"Use ggforce to create an annotation layer using simple feature data — layer_marked","text":"Labels descriptions can included aesthetic mapping layer consistent standard documented approaches four functions. Labels descriptions also can set two non-standard ways: Setting label_col /desc_col character strings column names labels /descriptions Setting label_col /desc_col value label/description first approach used, label_col desc_col can also can created modified function provided fn parameter. Otherwise, columns must present data work. second approach used, length order vector provided label_col /desc_col must match length order data (fn applied).","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_marked.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use ggforce to create an annotation layer using simple feature data — layer_marked","text":"","code":"if (FALSE) { if (interactive()) {   library(ggplot)   library(overedge)    ggplot() +     layer_location_data(       data = \"neighborhoods\",       package = \"mapbaltimore\"     ) +     layer_marked(       data = get_location(         type = \"council district\",         name = \"District 12\",         package = \"mapbaltimore\"       ),       geom = \"hull\",       color = \"red\",       size = 1.5     ) } }"},{"path":"https://elipousson.github.io/maplayer/reference/layer_markers.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a ggplot2 layer with map markers or numbered markers — layer_markers","title":"Create a ggplot2 layer with map markers or numbered markers — layer_markers","text":"get TRUE, groupname_col, group_meta, crs, fn passed overedge::make_markers.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_markers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a ggplot2 layer with map markers or numbered markers — layer_markers","text":"","code":"layer_markers(   data,   mapping = NULL,   geom = \"sf\",   make = FALSE,   groupname_col = NULL,   group_meta = NULL,   crs = NULL,   number = FALSE,   num_by_group = FALSE,   num_style = NULL,   num_start = 1,   suffix = NULL,   sort = \"dist_xmin_ymax\",   desc = FALSE,   fn = NULL,   ... )  layer_numbers(   data,   mapping = NULL,   geom = \"label\",   make = FALSE,   groupname_col = NULL,   style = \"roundrect\",   size = 5,   sort = \"dist_xmin_ymax\",   num_by_group = FALSE,   num_style = NULL,   num_start = 1,   suffix = NULL,   desc = FALSE,   fn = NULL,   crs = NULL,   label.size = 0,   label.padding = ggplot2::unit(size/10, \"lines\"),   label.r = label.padding * 1.5,   hjust = 0.5,   vjust = 0.5,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_markers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a ggplot2 layer with map markers or numbered markers — layer_markers","text":"data Data markers, passed data parameter get_location_data() mapping Set aesthetic mappings created aes() aes_(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. geom geometric object use display data make TRUE, pass data make_markers. groupname_col Group column name, used join group metadata group_meta non-spatial data frame; Default: NULL group_meta Group metadata data frame sf object intersect markers; Default: NULL crs Coordinate reference system markers, Default: NULL number TRUE, number markers using layer_markers() (currently supported) num_by_group TRUE, numbers added group based groupname_col. num_style Style enumeration, either \"arabic\", \"alph\", \"Alph\", \"roman\", \"Roman\" num_start Starting number; defaults 1. suffix Character appended \"number\" column. (e.g. \".\" \"1.\" \":\" \"1:\"). Can also character vector length number column. sort Sort column name, Default: \"dist_xmin_ymax\". desc TRUE, sort descending; default FALSE. fn Function apply data results; gives warning data grouped; Default: NULL ... Additional parameters passed layer_location_data() style Style number markers map; defaults \"roundrect\". size Marker size, Default: 5 label.size Size label border, mm. label.padding Amount padding around label. Defaults 0.25 lines. label.r Radius rounded corners. Defaults 0.15 lines. hjust, vjust Horizontal vertical justification.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_markers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a ggplot2 layer with map markers or numbered markers — layer_markers","text":"ggplot2 layers","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_markers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a ggplot2 layer with map markers or numbered markers — layer_markers","text":"","code":"nc <- sfext::read_sf_path(system.file(\"shape/nc.shp\", package = \"sf\")) nc <- sfext::st_transform_ext(nc, 3857)  basemap <-   ggplot2::ggplot() +   layer_location_data(     data = nc,     fill = NA   ) +   ggplot2::theme_void() #> Error in is_pkg_installed(\"naniar\"): The package `naniar` is required.  basemap +   layer_markers(     data = nc[1:10],     mapping = ggplot2::aes(size = AREA),     make = TRUE   ) #> Error in eval(expr, envir, enclos): object 'basemap' not found  large_nc <-   getdata::get_location_data(     data = nc,     fn = ~ dplyr::filter(.x, AREA > 0.2)   ) #> Error in is_pkg_installed(\"naniar\"): The package `naniar` is required.  large_nc$number <- 1 #> Error in large_nc$number <- 1: object 'large_nc' not found large_nc$dist <- 2 #> Error in large_nc$dist <- 2: object 'large_nc' not found  basemap +   layer_numbers(     data = large_nc,     mapping = ggplot2::aes(fill = NAME),     sort = \"dist_xmax_ymin\",     num_style = \"Roman\",     geom = \"label\",     size = 3     ) +   ggplot2::guides(fill = \"none\") #> Error in eval(expr, envir, enclos): object 'basemap' not found"},{"path":"https://elipousson.github.io/maplayer/reference/layer_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a mask layer based on a simple feature object — layer_mask","title":"Create a mask layer based on a simple feature object — layer_mask","text":"Returns mask area areas simple feature object.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a mask layer based on a simple feature object — layer_mask","text":"","code":"layer_mask(   data = NULL,   dist = NULL,   diag_ratio = NULL,   unit = NULL,   asp = NULL,   crs = NULL,   fill = \"white\",   color = NA,   alpha = 0.5,   mask = NULL,   neatline = FALSE,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a mask layer based on a simple feature object — layer_mask","text":"data sf, sfc, bbox object. dist, diag_ratio, /asp provided, data adjusted set boundaries mask. data provided, mask required. dist buffer distance units. Optional. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit Units buffer. Supported options include \"meter\", \"foot\", \"kilometer\", \"mile\", \"nautical mile\" Common abbreviations (e.g. \"km\" instead \"kilometer\") also supported. Distance units converted units matching GDAL units x; defaults \"meter\" asp Aspect ratio width height numeric value (e.g. 0.33) character (e.g. \"1:3\"). numeric, get_asp() returns value without modification. crs Coordinate reference system bounding box return fill mask fill color; defaults \"white\" color mask edge color; defaults NA alpha mask alpha/transparency; defaults 0.5 mask sf bbox object define edge mask. diag_ratio, dist, asp parameters ignored mask provided. defaults NULL neatline TRUE, add layer_neatline expand = TRUE; defaults FALSE. ... Additional parameters pass ggplot2::geom_sf()","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a mask layer based on a simple feature object — layer_mask","text":"ggplot2::geom_sf() function.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_neatline.html","id":null,"dir":"Reference","previous_headings":"","what":"Set map limits to a simple feature or bounding box with a specified distance\nbuffer, aspect ratio, and panel border — layer_neatline","title":"Set map limits to a simple feature or bounding box with a specified distance\nbuffer, aspect ratio, and panel border — layer_neatline","text":"Set limits map bounding box x using ggplot2::coord_sf(). Optionally, adjust x size applying buffer /adjust aspect ratio limiting bounding box match set aspect ratio.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_neatline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set map limits to a simple feature or bounding box with a specified distance\nbuffer, aspect ratio, and panel border — layer_neatline","text":"","code":"layer_neatline(   data = NULL,   dist = getOption(\"maplayer.dist\"),   diag_ratio = getOption(\"maplayer.diag_ratio\"),   unit = getOption(\"maplayer.unit\", default = \"meter\"),   asp = getOption(\"maplayer.asp\"),   crs = getOption(\"maplayer.crs\"),   color = \"black\",   bgcolor = \"white\",   size = 1,   linetype = \"solid\",   expand = FALSE,   hide_grid = TRUE,   label_axes = \"----\",   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_neatline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set map limits to a simple feature or bounding box with a specified distance\nbuffer, aspect ratio, and panel border — layer_neatline","text":"data sf bbox class object dist buffer distance units. Optional. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit Buffer units; defaults meter. asp Aspect ratio width height numeric value (e.g. 0.33) character (e.g. \"1:3\"). numeric, get_asp() returns value without modification. crs Coordinate reference system use ggplot2::coord_sf(). color Color panel border, Default: 'black' bgcolor Fill color panel background; defaults \"white\". \"none\", panel background set ggplot2::element_blank() size Size panel border, Default: 1 linetype Line type panel border, Default: 'solid' expand Default FALSE. TRUE, function adds ggplot2::scale_y_continuous() ggplot2::scale_x_continuous() expand map extent provided parameters. hide_grid TRUE, hide major grid lines. Default: TRUE label_axes description axes label passed ggplot2::coord_sf(); defaults '----' hides axes labels. ... Additional parameters pass ggplot2::coord_sf().","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_neatline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set map limits to a simple feature or bounding box with a specified distance\nbuffer, aspect ratio, and panel border — layer_neatline","text":"ggplot2::coord_sf() function xlim ylim parameters","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_neatline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set map limits to a simple feature or bounding box with a specified distance\nbuffer, aspect ratio, and panel border — layer_neatline","text":"","code":"nc <- sfext::read_sf_path(system.file(\"shape/nc.shp\", package = \"sf\"))  ggplot2::ggplot() +   layer_location_data(data = nc) +   layer_neatline(data = nc[1, ], asp = 1, color = \"red\", size = 1.5, linetype = \"dashed\") #> Error in is_pkg_installed(\"naniar\"): The package `naniar` is required.  ggplot2::ggplot() +   layer_location_data(data = nc) +   layer_neatline(data = nc[1, ], dist = 20, unit = \"mi\", color = \"none\") #> Error in is_pkg_installed(\"naniar\"): The package `naniar` is required."},{"path":"https://elipousson.github.io/maplayer/reference/layer_scaled.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a ggplot2 layer scaled to a paper and orientation for a location — layer_scaled","title":"Create a ggplot2 layer scaled to a paper and orientation for a location — layer_scaled","text":"Uses layer_neatline, sfext::standard_scales, sfext::convert_dist_scale.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_scaled.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a ggplot2 layer scaled to a paper and orientation for a location — layer_scaled","text":"","code":"layer_scaled(   data = NULL,   dist = NULL,   diag_ratio = NULL,   unit = NULL,   asp = NULL,   crs = NULL,   scale = NULL,   paper = NULL,   orientation = NULL,   clip = FALSE )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_scaled.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a ggplot2 layer scaled to a paper and orientation for a location — layer_scaled","text":"data sf bbox class object dist distance convert. paper provided, paper width height used dist. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit Units buffer. Supported options include \"meter\", \"foot\", \"kilometer\", \"mile\", \"nautical mile\" Common abbreviations (e.g. \"km\" instead \"kilometer\") also supported. Distance units converted units matching GDAL units x; defaults \"meter\" asp Aspect ratio width height numeric value (e.g. 0.33) character (e.g. \"1:3\"). numeric, get_asp() returns value without modification. crs Coordinate reference system bounding box return scale Scale name clip TRUE, create scaled layer even data cut ; defaults FALSE.","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/layer_show_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Layer a location border into a ggplot2 map — layer_location","title":"Layer a location border into a ggplot2 map — layer_location","text":"Helper function make ggplot2 layer data returned get_location","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_show_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Layer a location border into a ggplot2 map — layer_location","text":"","code":"layer_location(   mapping = ggplot2::aes(),   data = NULL,   type = NULL,   name = NULL,   id = NULL,   location = NULL,   name_col = \"name\",   id_col = \"id\",   index = NULL,   label = NULL,   label_geom = NULL,   label_col = name_col,   union = FALSE,   smooth = TRUE,   crs = NULL,   color = \"gray40\",   linetype = \"dashed\",   size = 1,   fill = NA,   dist = NULL,   diag_ratio = NULL,   unit = NULL,   asp = NULL,   mask = FALSE,   neatline = FALSE,   ... )"},{"path":"https://elipousson.github.io/maplayer/reference/layer_show_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Layer a location border into a ggplot2 map — layer_location","text":"mapping Set aesthetic mappings created aes() aes_(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data Data location show. type Type location return. Type can sf object, e.g. data frame multiple neighborhoods character string can passed get_location_data. index provided, character can also character string match name list. name Location name return. id Location id return. id coerced character numeric match class id_col type. location address, bounding box (bbox), simple feature (sf) object passed sf::st_filter. valid address addresses geocoded tidygeocoder::geo, converted simple feature object, used spatial filter. bbox objects converted using sfext::sf_bbox_to_sf(). Multiple addresses supported. name_col Column name type name values, Default: 'name' Required name provided. id_col Column name type id values, Default: 'id'. Required id provided. index Optional list used match type data, Default: NULL label label type (e.g. \"text\", \"label\") label_col Column name id column text labels pass text geom. union TRUE, location geometry unioned sf::st_union names combined single value. Default: FALSE. crs Coordinate reference system return; defaults NULL returns data using coordinate reference system provided type location. color Color location; defaults \"black\". linetype Line type location; defaults \"dashed\". fill Fill location; defaults \"NA\". dist buffer distance units. Optional. diag_ratio ratio diagonal distance area's bounding box used buffer distance. e.g. diagonal distance 3000 meters \"diag_ratio = 0.1\"  300 meter used. Ignored dist provided. unit unit adjust location dist diag_ratio; defaults \"meter\" asp Aspect ratio width height numeric value (e.g. 0.33) character (e.g. \"1:3\"). numeric, get_asp() returns value without modification. mask sf bbox object define edge mask. diag_ratio, dist, asp parameters ignored mask provided. defaults NULL neatline TRUE, add layer_neatline expand = TRUE; defaults FALSE. ... Additional parameters passed get_location data NULL.","code":""},{"path":"https://elipousson.github.io/maplayer/reference/layer_show_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Layer a location border into a ggplot2 map — layer_location","text":"list ggplot2 geoms","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/map_icons.html","id":null,"dir":"Reference","previous_headings":"","what":"Map icons — map_icons","title":"Map icons — map_icons","text":"index map icons four sources: mapbox/maki ideditor/temaki manifestinteractive/weather-underground-icons openstreetmap/map-icons openstreetmap/lane-icons Esri/calcite-point-symbols NPMap Symbol Library icon sources use open licenses. Maki, Temaki, OSM lane icons use CC0 license. Weather Underground Icons use MIT license. OSM map icons use unspecified PD style license. Calcite icons available Esri Master License Agreement (MLA). NPMap Symbol Library created National Park Service assumed Public Domain work U.S..","code":""},{"path":"https://elipousson.github.io/maplayer/reference/map_icons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map icons — map_icons","text":"","code":"map_icons"},{"path":"https://elipousson.github.io/maplayer/reference/map_icons.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Map icons — map_icons","text":"data frame 1855 rows 5 variables: name Icon name url Icon URL GitHub repo style Icon style (Weather Underground icons ) size Icon width/height (pixels) repo GitHub repository icon collection","code":""},{"path":"https://elipousson.github.io/maplayer/reference/maplayer-package.html","id":null,"dir":"Reference","previous_headings":"","what":"maplayer: Make Map Layers With ggplot2 — maplayer-package","title":"maplayer: Make Map Layers With ggplot2 — maplayer-package","text":"Make map-making ggplot2 sf convenient consistent set wrapper functions. Relies overedge package.","code":""},{"path":[]},{"path":"https://elipousson.github.io/maplayer/reference/maplayer-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"maplayer: Make Map Layers With ggplot2 — maplayer-package","text":"Maintainer: Eli Pousson eli.pousson@gmail.com (ORCID) [copyright holder]","code":""},{"path":"https://elipousson.github.io/maplayer/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. sfext as_sf, as_sf_list, is_multipoint, is_multipolygon, is_point, is_polygon, is_sf, is_sf_list, st_bbox_ext, st_buffer_ext, st_transform_ext","code":""}]
